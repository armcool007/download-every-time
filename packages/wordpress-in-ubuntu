#installing wordpress and required software to use WORDPRESS ubuntu
sudo apt install apache2 mysql-server libapache2-mod-php unzip -y

#create a database
CREATE DATABASE wordpress;
CREATE USER 'wpuser'@'localhost' IDENTIFIED by 'passward';
GRANT ALL PRIVILEGES ON wordpress.* TO 'wpuser'@'localhost';

#now delete the data in the /var/www/html/index.html file

#now install the wordpress
sudo wget https://wordpress.org/latest.zip
#uzip wordpress and mv the content of the wordpress in the /var/www/html/

#change the owner and group
sudo chown -R www-data:www-data *


#creating apache configuration file
sudo vi /etc/apache2/sites-available/wordpress.conf
<VirtualHost *:80>
    ServerAdmin admin@nehraclasses.in
    ServerName nehraclasses.in
    ServerAlias www.nehraclasses.in
    DocumentRoot /var/www/html

    <Directory /var/www/html>
        AllowOverride All
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
#now enable configuration and rewrite the module
sudo a2ensite wordpress
sudo a2enmod rewrite
sudo systemctl restart apache2

#now try to access the through machie public ip address

#database name, username, password and the localhost jo database me put kiya tha vo sb daal do

# to make the website https secure we will install python and cert certificates
sudo apt install certbot python3-certbot-apache -y
sudo certbot --apache -d nehraclasses.in -d www.nehraclassess.in

